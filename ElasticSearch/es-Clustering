ES集群

	学习地址:
		http://www.cnblogs.com/aubin/p/8012840.html
		https://blog.csdn.net/qbian/article/details/71102076  ==》更清楚
	一. 相关的基本概念
		一个节点(node)就是一个Elasticsearch实例。
		a. Cluster
		代表一个集群，集群中有多个节点，主节点可以通过选举产生，对于集群外部来说，es集群逻辑上是一个整体，与任何一个节点的通信和与整个es集群通信的等价的
		b. Shards
		代表索引分片，es可以把一个完整的索引分成多个分片。这样的好处是可以把一个大的索引拆分成多个，分布到不同的节点上。构成分布式搜索。分片的数量只能在索引创建前置顶，并且索引创建后不能更改。es在创建集群的时候默认初始化的分片是5个。可以通过调用接口进行数量的改变。
		c. Replicas
		代表索引副本，es可以设置多个索引的副本，副本的作用一是提高系统的容错性，当某个节点某个分片损坏或丢失时可以从副本中恢复。二是提高es的查询效率，es会自动对搜索请求进行负载均衡。
		d. Recovery
		代表数据恢复或叫数据重新分布，es在有节点加入或退出时会根据机器的负载对索引分片进行重新分配，挂掉的节点重新启动时也会进行数据恢复。
		e. River
		代表es的一个数据源，也是其他存储方式(如数据库)同步数据到es的一个方法。他是以插件方式存在的一个es服务，通过读取river中的数据并把它索引到es中，官方的river有couchDB的，RabbitMQ的，Twitter的，Wikipedia的
		f. Gateway
		代表es索引快照的存储方式，es默认是先把索引存放到内存中，当内存满了时再持久化到本地硬盘。gateway对索引快照进行存储，当这个es集群关闭再重新启动时就会从gateway中读取索引备份数据。es支持多种类型的gateway，有本地文件系统(默认)，分布式文件系统，Hadoop的HDFS和amazon的s3云存储服务。
		g. Discovery.zen
		代表es的自动发现节点机制，es是一个基于p2p系统，它先通过广播寻找存在的节点，再通过多播协议来进行节点之间的通信，同时也支持点对点的交互。
		h. Transport
		代表es内部节点或集群与客户端的交互方式，默认内部是使用tcp协议进行交互，同时它支持http协议(json格式)、thrift、servlet、memcached、zeroMQ等的传输协议(通过插件方式集成)
	二. 部署环境
	每个分片可以有多个副本，通过将副本分配到多个服务器，可以提高查询的负载能力。
	三. 部署es集群
		a. 集群配置中重要两项：node.name、network.host
		b. JVM配置：
		由于es是java开发的，所以可以通过/etc/elasticsearch/jvm.options配置文件来设定JVM的相关设定。如果没有特殊需求，按照默认即可。
		其中有两项-Xmx1g/-Xms1g表示JVM的最大最小使用内存。
		
		
